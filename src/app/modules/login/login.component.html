<app-loading></app-loading>
<div class="login-container" *ngIf="isVisible">
  <div class="wrapper">
    <div class="app-logo">
        <img src="assets/images/finance-tracker-logo.png"/>
        <div class="app-title">
            <h2>FINANCE TRACKER</h2>
            <a>Track smarter. Spend wiser</a>
        </div>
    </div>
    <div class="login-form">
        <h3 class="pb-3">Sign in your account</h3>

        <form [formGroup]="loginForm" (ngSubmit)="onSubmit()">
            <mat-form-field appearance="outline" class="col-md-12">
                <mat-label>Username</mat-label>
                <input matInput formControlName="username"/>
            </mat-form-field>
            <mat-form-field appearance="outline" class="col-md-12 mb-3">
                <mat-label>Password</mat-label>
                <input matInput [type]="hidePassword ? 'password' : 'text'" formControlName="password" autocomplete="new-password"/>
                <button mat-icon-button matSuffix type="button" (click)="hidePassword = !hidePassword">
                    <mat-icon>{{ hidePassword ? 'visibility_off' : 'visibility' }}</mat-icon>
                </button>
                <mat-error *ngIf="loginControl['password'].hasError('minlength')">
                    Minimum 8 characters required
                </mat-error>
                <mat-error *ngIf="loginControl['password'].hasError('maxlength')">
                    Maximum 20 characters allowed
                </mat-error>
            </mat-form-field>
            <mat-dialog-actions align="end" class="button-container">
                <button mat-flat-button class="badge-primary" type="submit" [disabled]="loginForm.invalid">LOGIN</button>
            </mat-dialog-actions>
        </form>
    </div>
  </div>
</div>
